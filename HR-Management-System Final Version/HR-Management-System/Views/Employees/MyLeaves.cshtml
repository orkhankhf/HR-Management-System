@model HR_Management_System.ViewModels.Site.EmployeeAccount
@{
	ViewBag.Title = "MyLeaves";
	Layout = "~/Views/Shared/_SiteLayout.cshtml";
}

<div class="col-md-9">
	<!--Profile Body-->
	<div class="profile-body">
		<div class="row margin-bottom-20">
			<!--Profile Post-->
			<div class="col-sm-12">


				<div id="alert_message">

				</div>


				<div class="panel panel-grey">
					<div class="panel-heading">
						<h3 class="panel-title"><i class="fa fa-tasks"></i> My Leave Applications</h3>
					</div>
					<div class="panel-body">
						<div id="applications_wrapper" class="dataTables_wrapper no-footer">
							<div class="table-scrollable">
								<table class="table table-striped table-bordered table-hover" id="sample_employees">
									<thead>
										<tr>
											<th>Date</th>
											<th>Reason</th>
											<th>Status</th>
										</tr>
									</thead>
									<tbody>
										@foreach (var item in Model.Employee.Leave_App.OrderByDescending(l=>l.leave_date))
										{
											<tr>
												<td class="center sorting_1">@Convert.ToDateTime(item.leave_date).ToShortDateString()</td>
												<td class=" center">@item.leave_reason</td>
												@{
													var name = (from a in Model.Leave_status where a.id == item.leave_status_id select a).FirstOrDefault().status_name;
												}
												<td class="center">@name</td>
											</tr>
										}
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>


				<!--End Profile Post-->


			</div><!--/end row-->

			<hr>



		</div>
		<!--End Profile Body-->
	</div>

</div>