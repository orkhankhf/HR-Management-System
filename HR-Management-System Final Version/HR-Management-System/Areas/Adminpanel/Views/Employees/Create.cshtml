@model HR_Management_System.Models.Employee

@{
	ViewBag.Title = "Create";
	Layout = "~/Areas/Adminpanel/Views/Shared/_AdminLayout.cshtml";
}
<link media="all" type="text/css" rel="stylesheet" href="http://froiden.cloudapp.net/hrm_demo/assets/global/plugins/bootstrap-fileinput/bootstrap-fileinput.css">

<link media="all" type="text/css" rel="stylesheet" href="http://froiden.cloudapp.net/hrm_demo/assets/global/plugins/bootstrap-datepicker/css/datepicker3.css">

<div class="page-content-wrapper">
	<div class="page-content">


		<!-- BEGIN PAGE HEADER-->
		<h3 class="page-title">
			<span class="fa fa-plus"></span>    New Employee
		</h3>
		<div class="page-bar">
			<ul class="page-breadcrumb">
				<li>
					<i class="fa fa-home"></i>
					<a href="@Url.Action("Index", "Home")">Home</a>
					<i class="fa fa-angle-right"></i>
				</li>
				<li>
					<a href="@Url.Action("Index", "Employees")">Employees</a>
					<i class="fa fa-angle-right"></i>
				</li>
				<li>
					<a href="@Url.Action("Create", "Employees")">New Employee</a>
				</li>
			</ul>
		</div>
		<!-- END PAGE HEADER-->

		<hr>
		<div class="clearfix">
		</div>
		@using (Html.BeginForm("Create", "Employees", FormMethod.Post, new { enctype = "multipart/form-data", @class = "form-horizontal" }))
		{
			@Html.ValidationSummary(true, "", new { @class = "text-danger" })
			<div class="row ">
				<div class="col-md-6 col-sm-6">
					<div class="portlet box purple-wisteria">
						<div class="portlet-title">
							<div class="caption">
								<i class="fa fa-calendar"></i>Personal Details
							</div>

						</div>
						<div class="portlet-body">

							<div class="form-body">
								<div class="form-group ">
									<label class="control-label col-md-3">Photo</label>
									<div class="col-md-9">
										<div class="fileinput fileinput-new" data-provides="fileinput">
											<div class="fileinput-new thumbnail" style="width: 200px; height: 150px;">
												<img src="http://www.placehold.it/200x150/EFEFEF/AAAAAA&amp;text=no+image" alt="" />

											</div>
											<div class="fileinput-preview fileinput-exists thumbnail" style="max-width: 200px; max-height: 150px;">
											</div>
											<div>
												<span class="btn default btn-file">
													<span class="fileinput-new">
														Select image
													</span>
													<span class="fileinput-exists">
														Change
													</span>
													@Html.EditorFor(model => model.emp_photo, new { htmlAttributes = new { type = "file", @accept = "image/x-png, image/gif, image/jpeg" } })
												</span>
												<a href="#" class="btn red fileinput-exists" data-dismiss="fileinput">
													Remove
												</a>
											</div>
										</div>
										<div class="clearfix margin-top-10">
											<span class="label label-danger">
												NOTE!
											</span> Image Size must be (872px by 724px) (olmasada olar)

										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-md-3 control-label">Fullname <span class="required">* </span></label>
									<div class="col-md-9">
										@Html.EditorFor(model => model.emp_fullname, new { htmlAttributes = new { @class = "form-control", placeholder = "Employee Fullname" } })
										@Html.ValidationMessageFor(model => model.emp_fullname, "", new { @class = "text-danger" })
									</div>
								</div>
								<div class="form-group">
									<label class="col-md-3 control-label">Father's Name</label>
									<div class="col-md-9">
										@Html.EditorFor(model => model.emp_fathername, new { htmlAttributes = new { @class = "form-control", placeholder = "Father Name" } })
										@Html.ValidationMessageFor(model => model.emp_fathername, "", new { @class = "text-danger" })
									</div>
								</div>
								<div class="form-group">
									<label class="control-label col-md-3">Date of Birth</label>
									<div class="col-md-3">
										<div class="input-group input-medium date date-picker" data-date-format="dd-mm-yyyy" data-date-viewmode="years">
											@Html.EditorFor(model => model.emp_dateof_birth, new { htmlAttributes = new { @class = "form-control", type = "date", placeholder = "24-12-1995" } })
											@Html.ValidationMessageFor(model => model.emp_dateof_birth, "", new { @class = "text-danger" })
											<span class="input-group-btn">
												<button class="btn default" type="button"><i class="fa fa-calendar"></i></button>
											</span>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-md-3 control-label">Gender</label>
									<div class="col-md-9">
										@Html.DropDownList("emp_gender_id", null, htmlAttributes: new { @class = "form-control" })
										@Html.ValidationMessageFor(model => model.emp_gender_id, "", new { @class = "text-danger" })
									</div>
								</div>

								<div class="form-group">
									<label class="col-md-3 control-label">Phone</label>
									<div class="col-md-9">
										@Html.EditorFor(model => model.emp_phone, new { htmlAttributes = new { @class = "form-control", placeholder = "Contact Number" } })
										@Html.ValidationMessageFor(model => model.emp_phone, "", new { @class = "text-danger" })
									</div>
								</div>
								<div class="form-group">
									<label class="col-md-3 control-label">Local Address</label>
									<div class="col-md-9">
										<textarea class="form-control" name="emp_address" rows="3"></textarea>
									</div>
								</div>

								<h4><strong>Account Login</strong></h4>
								<div class="form-group">
									<label class="col-md-3 control-label">Email<span class="required">* </span></label>
									<div class="col-md-9">
										@Html.EditorFor(model => model.emp_email, new { htmlAttributes = new { @class = "form-control" } })
										@Html.ValidationMessageFor(model => model.emp_email, "", new { @class = "text-danger" })
									</div>
								</div>
								<div class="form-group">
									<label class="col-md-3 control-label">Password<span class="required">* </span></label>
									<div class="col-md-9">
										@Html.EditorFor(model => model.emp_password, new { htmlAttributes = new { @class = "form-control" } })
										@Html.ValidationMessageFor(model => model.emp_password, "", new { @class = "text-danger" })
									</div>
								</div>

							</div>

						</div>
					</div>
				</div>
				<div class="col-md-6 col-sm-6">
					<div class="portlet box red-sunglo">
						<div class="portlet-title">
							<div class="caption">
								<i class="fa fa-calendar"></i>Company Details
							</div>

						</div>
						<div class="portlet-body">

							<div class="form-body">
								<div class="form-group">
									<label class="col-md-3 control-label">Department</label>
									<div class="col-md-9">
										@Html.DropDownList("emp_dep_id", null, htmlAttributes: new { @class = "form-control select2me", id = "department", onchange = "dept(this.value);return false;" })
										@Html.ValidationMessageFor(model => model.emp_dep_id, "", new { @class = "text-danger" })
									</div>
								</div>
								<div class="form-group">
									<label class="col-md-3 control-label">Designation</label>
									<div class="col-md-9">
										<select class="select2me form-control" name="emp_desig_id" id="designation"></select>
									</div>
								</div>
								<div class="form-group">
									<label class="control-label col-md-3">Date of Joining</label>
									<div class="col-md-3">
										<div class="input-group input-medium date date-picker" data-date-format="dd-mm-yyyy" data-date-viewmode="years">
											@Html.EditorFor(model => model.emp_date_of_joining, new { htmlAttributes = new { @class = "form-control", type = "date", placeholder = "24-12-2015" } })
											@Html.ValidationMessageFor(model => model.emp_date_of_joining, "", new { @class = "text-danger" })
											<span class="input-group-btn">
												<button class="btn default" type="button"><i class="fa fa-calendar"></i></button>
											</span>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-md-3 control-label">Joining Salary</label>
									<div class="col-md-9">
										@Html.EditorFor(model => model.emp_salary, new { htmlAttributes = new { @class = "form-control", placeholder = "Current Salary" } })
										@Html.ValidationMessageFor(model => model.emp_salary, "", new { @class = "text-danger" })
									</div>
								</div>
							</div>

						</div>
					</div>

				</div>
			</div>
			<div class="clearfix">
				<div class="row ">
					<div class="col-md-12 col-sm-12">
						<div class="portlet box purple-wisteria">
							<div class="portlet-title">
								<div class="caption">
									<i class="fa fa-calendar"></i>Documents
								</div>

							</div>
							<div class="portlet-body">

								<div class="form-body">
									<div class="form-group">
										<label class="control-label col-md-2">Resume</label>
										<div class="col-md-5">
											<div class="fileinput fileinput-new" data-provides="fileinput">
												<div class="input-group input-large">
													<div class="form-control uneditable-input" data-trigger="fileinput">
														<i class="fa fa-file fileinput-exists"></i>&nbsp; <span class="fileinput-filename">
														</span>
													</div>
													<span class="input-group-addon btn default btn-file">
														<span class="fileinput-new">
															Select file
														</span>
														<span class="fileinput-exists">
															Change
														</span>
														@Html.EditorFor(model => model.emp_resume, new { htmlAttributes = new { type = "file", @accept = "image/x-png, image/gif, image/jpeg" } })
													</span>
													<a href="#" class="input-group-addon btn red fileinput-exists" data-dismiss="fileinput">
														Remove
													</a>
												</div>
											</div>
										</div>

									</div>
									<div class="form-group">
										<label class="control-label col-md-2">Offer Letter</label>
										<div class="col-md-5">
											<div class="fileinput fileinput-new" data-provides="fileinput">
												<div class="input-group input-large">
													<div class="form-control uneditable-input" data-trigger="fileinput">
														<i class="fa fa-file fileinput-exists"></i>&nbsp; <span class="fileinput-filename">
														</span>
													</div>
													<span class="input-group-addon btn default btn-file">
														<span class="fileinput-new">
															Select file
														</span>
														<span class="fileinput-exists">
															Change
														</span>
														@Html.EditorFor(model => model.emp_offer_letter, new { htmlAttributes = new { type = "file", @accept = "image/x-png, image/gif, image/jpeg" } })
													</span>
													<a href="#" class="input-group-addon btn red fileinput-exists" data-dismiss="fileinput">
														Remove
													</a>
												</div>
											</div>
										</div>

									</div>
									<div class="form-group">
										<label class="control-label col-md-2">Joining Letter</label>
										<div class="col-md-5">
											<div class="fileinput fileinput-new" data-provides="fileinput">
												<div class="input-group input-large">
													<div class="form-control uneditable-input" data-trigger="fileinput">
														<i class="fa fa-file fileinput-exists"></i>&nbsp; <span class="fileinput-filename">
														</span>
													</div>
													<span class="input-group-addon btn default btn-file">
														<span class="fileinput-new">
															Select file
														</span>
														<span class="fileinput-exists">
															Change
														</span>
														@Html.EditorFor(model => model.emp_joining_letter, new { htmlAttributes = new { type = "file", @accept = "image/x-png, image/gif, image/jpeg" } })
													</span>
													<a href="#" class="input-group-addon btn red fileinput-exists" data-dismiss="fileinput">
														Remove
													</a>
												</div>
											</div>
										</div>

									</div>
									<div class="form-group">
										<label class="control-label col-md-2">Contract and Agreement</label>
										<div class="col-md-5">
											<div class="fileinput fileinput-new" data-provides="fileinput">
												<div class="input-group input-large">
													<div class="form-control uneditable-input" data-trigger="fileinput">
														<i class="fa fa-file fileinput-exists"></i>&nbsp; <span class="fileinput-filename">
														</span>
													</div>
													<span class="input-group-addon btn default btn-file">
														<span class="fileinput-new">
															Select file
														</span>
														<span class="fileinput-exists">
															Change
														</span>
														@Html.EditorFor(model => model.emp_contact_and_argue, new { htmlAttributes = new { type = "file", @accept = "image/x-png, image/gif, image/jpeg" } })
													</span>
													<a href="#" class="input-group-addon btn red fileinput-exists" data-dismiss="fileinput">
														Remove
													</a>
												</div>
											</div>
										</div>

									</div>
									<div class="form-group">
										<label class="control-label col-md-2">ID Proof</label>
										<div class="col-md-5">
											<div class="fileinput fileinput-new" data-provides="fileinput">
												<div class="input-group input-large">
													<div class="form-control uneditable-input" data-trigger="fileinput">
														<i class="fa fa-file fileinput-exists"></i>&nbsp; <span class="fileinput-filename">
														</span>
													</div>
													<span class="input-group-addon btn default btn-file">
														<span class="fileinput-new">
															Select file
														</span>
														<span class="fileinput-exists">
															Change
														</span>
														@Html.EditorFor(model => model.emp_ID_proof, new { htmlAttributes = new { type = "file", @accept = "image/x-png, image/gif, image/jpeg" } })
													</span>
													<a href="#" class="input-group-addon btn red fileinput-exists" data-dismiss="fileinput">
														Remove
													</a>
												</div>
											</div>
										</div>

									</div>
								</div>

							</div>
						</div>
					</div>
				</div>
				<div class="clearfix">
				</div>
				<div class="form-actions">
					<div class="row">
						<div class="col-md-6">
							<div class="row">
								<div class="col-md-offset-3 col-md-9">
									<button type="submit" data-loading-text="Submitting..." class="demo-loading-btn btn green">
										<i class="fa fa-plus"></i>	Submit
									</button>

								</div>
							</div>
						</div>
						<div class="col-md-6">
						</div>
					</div>
				</div>

			</div>
		}
		<hr>
	</div>

</div>
<script src="http://froiden.cloudapp.net/hrm_demo/assets/global/plugins/bootstrap-fileinput/bootstrap-fileinput.js"></script>

<script src="http://froiden.cloudapp.net/hrm_demo/assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>

<script src="http://froiden.cloudapp.net/hrm_demo/assets/admin/pages/scripts/components-pickers.js"></script>
<script>
	$(document).ready(function (){
		dept($("#department").val());
	});
	function dept(id) {
		var url = "@Url.Action("GetDesignationForDropDown", "Employees", new { Id="-1"})";
		url = url.replace("-1", id);

		$.ajax({
			method: "POST",
			dataType: 'json',
			url: url
		}).done(function (response) {
			var dropdown = $('#designation');
			var bool = true;
			$("#select2-chosen-2").text("");
			dropdown.empty();
			$.each(response, function (index, element) {
				if (bool) {
					$("#select2-chosen-2").text(element.desig_name);
				}
				dropdown.append("<option value='" + element.id + "'>" + element.desig_name + "</option>");
				bool = false;
			});

		});
	}

</script>


