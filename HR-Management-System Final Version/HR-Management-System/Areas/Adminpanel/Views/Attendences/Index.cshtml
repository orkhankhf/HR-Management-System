@model IEnumerable<HR_Management_System.Models.Employee>

@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Adminpanel/Views/Shared/_AdminLayout.cshtml";
}


<div class="page-content-wrapper">
	<div class="page-content">



		<!-- BEGIN PAGE HEADER-->
		<h3 class="page-title">
			Attendance <small>Employee List</small>
		</h3>
		<div class="page-bar">
			<ul class="page-breadcrumb">
				<li>
					<i class="fa fa-home"></i>
					<a href="@Url.Action("Index", "Home")">Home</a>
					<i class="fa fa-angle-right"></i>
				</li>
				<li>
					<a href="@Url.Action("Index", "Attendences")">Attendance</a>
					<i class="fa fa-angle-right"></i>
				</li>
			</ul>

		</div>
		<!-- END PAGE HEADER-->
		<!-- BEGIN PAGE CONTENT-->

		<div class="row">
			<div class="col-md-12">
				<!-- BEGIN EXAMPLE TABLE PORTLET-->
				<div id="load">


				</div>

				<div class="portlet box blue">

					<div class="portlet-title">
						<div class="caption">
							<i class="fa fa-users"></i>Attendance Summary
						</div>
						<div class="tools">
						</div>
					</div>

					<div class="portlet-body">

						<table class="table table-striped table-bordered table-hover">
							<thead>
								<tr>
									<th> EmployeeID </th>
									<th class="text-center"> Image </th>
									<th> Name </th>
									<th> Leaves </th>
									<th> Employee Work Status</th>
								</tr>
							</thead>
							<tbody>
                                @foreach (var item in Model)
                                {
								    <tr id="row_@item.id">
									    <td> @item.id</td>
									    <td class="text-center"> <img src="~/Areas/Adminpanel/Uploads/@item.emp_photo" height="100px" alt="ProfileImage"> </td>
									    <td> @item.emp_fullname </td>
									    <td>
                                            @item.Attendences.Where(m => m.atten_emp_id == item.id && m.atten_status == false).Count()
									    </td>
									    <td>
										    <span class="label label-sm label-success"> @item.emp_work_status </span>
									    </td>
								    </tr>
                                }
							</tbody>
						</table>
					</div>
				</div>
				<!-- END EXAMPLE TABLE PORTLET-->

			</div>
		</div>
		<!-- END PAGE CONTENT-->

		<div id="deleteModal" class="modal fade" tabindex="-1" data-backdrop="static" data-keyboard="false">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
						<h4 class="modal-title">Confirmation</h4>
					</div>
					<div class="modal-body" id="info">
						<p>
						</p>
					</div>
					<div class="modal-footer">
						<button type="button" data-dismiss="modal" class="btn default">Cancel</button>
						<button type="button" data-dismiss="modal" class="btn red" id="delete"><i class="fa fa-trash"></i> Delete</button>
					</div>
				</div>
			</div>
		</div>



	</div>

</div>





@*<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.atten_status)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.atten_date)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.atten_reason)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Employee.emp_fullname)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Leave_type.type_name)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.atten_status)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.atten_date)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.atten_reason)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Employee.emp_fullname)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Leave_type.type_name)
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id=item.id }) |
            @Html.ActionLink("Details", "Details", new { id=item.id }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.id })
        </td>
    </tr>
}

</table>*@
